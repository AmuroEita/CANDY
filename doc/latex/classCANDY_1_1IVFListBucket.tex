\hypertarget{classCANDY_1_1IVFListBucket}{}\doxysection{CANDY\+::IVFList\+Bucket Class Reference}
\label{classCANDY_1_1IVFListBucket}\index{CANDY::IVFListBucket@{CANDY::IVFListBucket}}


a bucket of multiple \mbox{\hyperlink{classCANDY_1_1IVFListCell}{IVFList\+Cell}}  




{\ttfamily \#include $<$CANDY/\+Online\+PQIndex/\+IVFTensor\+Encoding\+List.\+h$>$}



Collaboration diagram for CANDY\+::IVFList\+Bucket\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{classCANDY_1_1IVFListBucket__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_a6120fcf7994e0be7e2aeb25ec6c7d70b}\label{classCANDY_1_1IVFListBucket_a6120fcf7994e0be7e2aeb25ec6c7d70b}} 
int64\+\_\+t {\bfseries size} ()
\item 
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_abdbf33bcd74d3034480effd806fff629}\label{classCANDY_1_1IVFListBucket_abdbf33bcd74d3034480effd806fff629}} 
void \mbox{\hyperlink{classCANDY_1_1IVFListBucket_abdbf33bcd74d3034480effd806fff629}{lock}} ()
\begin{DoxyCompactList}\small\item\em lock this bucket \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_a9c9eaa5efb1d21630d9140395dbe2f14}\label{classCANDY_1_1IVFListBucket_a9c9eaa5efb1d21630d9140395dbe2f14}} 
void \mbox{\hyperlink{classCANDY_1_1IVFListBucket_a9c9eaa5efb1d21630d9140395dbe2f14}{unlock}} ()
\begin{DoxyCompactList}\small\item\em unlock this bucket \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classCANDY_1_1IVFListBucket_a592dfac6a37fba05976bd5a60a1716fc}{insert\+Tensor\+With\+Encode}} (torch\+::\+Tensor \&t, std\+::vector$<$ uint8\+\_\+t $>$ \&encode, bool is\+Concurrent=false)
\begin{DoxyCompactList}\small\item\em insert a tensor with its encode \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classCANDY_1_1IVFListBucket_aae1351841443329a273fcfd625ad3781}{delete\+Tensor\+With\+Encode}} (torch\+::\+Tensor \&t, std\+::vector$<$ uint8\+\_\+t $>$ \&encode, bool is\+Concurrent=false)
\begin{DoxyCompactList}\small\item\em delete a tensor with its encode \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classCANDY_1_1IVFListBucket_ab6e1fe45b1392a87cc2ef9fb0a24c5eb}{delete\+Tensor}} (torch\+::\+Tensor \&t, bool is\+Concurrent=false)
\begin{DoxyCompactList}\small\item\em delete a tensor \end{DoxyCompactList}\item 
torch\+::\+Tensor \mbox{\hyperlink{classCANDY_1_1IVFListBucket_a749a743d0b4f84fa61473a231233b134}{get\+All\+Tensors}} ()
\begin{DoxyCompactList}\small\item\em get all of the tensors in list \end{DoxyCompactList}\item 
torch\+::\+Tensor \mbox{\hyperlink{classCANDY_1_1IVFListBucket_a1ae08eca578b9a7664805b9b1097d4ac}{get\+All\+Tensors\+With\+Encode}} (std\+::vector$<$ uint8\+\_\+t $>$ \&\+\_\+encode)
\begin{DoxyCompactList}\small\item\em get all of the tensors in list with a specific encode \end{DoxyCompactList}\item 
int64\+\_\+t \mbox{\hyperlink{classCANDY_1_1IVFListBucket_ab0dee1128b863c7894d0255ff163c19c}{size\+With\+Encode}} (std\+::vector$<$ uint8\+\_\+t $>$ \&\+\_\+encode)
\begin{DoxyCompactList}\small\item\em get teh size in list with a specific encode \end{DoxyCompactList}\item 
torch\+::\+Tensor \mbox{\hyperlink{classCANDY_1_1IVFListBucket_acd0e6440d296b984e23bba427e70a4ae}{get\+Minimum\+Tensors\+Under\+Hamming}} (std\+::vector$<$ uint8\+\_\+t $>$ \&\+\_\+encode, int64\+\_\+t min\+Number, int64\+\_\+t \+\_\+vec\+Dim)
\begin{DoxyCompactList}\small\item\em get a minimum number of tensors under sorted hamming distance \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_aec7fe667bde0957ae82807c279b095d7}\label{classCANDY_1_1IVFListBucket_aec7fe667bde0957ae82807c279b095d7}} 
int64\+\_\+t {\bfseries tensors} = 0
\item 
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_a8f7e0f39b4d31865d745eed3d4194a58}\label{classCANDY_1_1IVFListBucket_a8f7e0f39b4d31865d745eed3d4194a58}} 
std\+::list$<$ \mbox{\hyperlink{group__CANDY__lib__bottom__sub_ga90430f3ec39f1edccc8eb240c79107b0}{IVFList\+Cell\+Ptr}} $>$ {\bfseries cell\+Ptrs}
\item 
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_a364112be6da3970b02061b056b60e1a7}\label{classCANDY_1_1IVFListBucket_a364112be6da3970b02061b056b60e1a7}} 
std\+::mutex {\bfseries m\+\_\+mut}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
a bucket of multiple \mbox{\hyperlink{classCANDY_1_1IVFListCell}{IVFList\+Cell}} 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_ab6e1fe45b1392a87cc2ef9fb0a24c5eb}\label{classCANDY_1_1IVFListBucket_ab6e1fe45b1392a87cc2ef9fb0a24c5eb}} 
\index{CANDY::IVFListBucket@{CANDY::IVFListBucket}!deleteTensor@{deleteTensor}}
\index{deleteTensor@{deleteTensor}!CANDY::IVFListBucket@{CANDY::IVFListBucket}}
\doxysubsubsection{\texorpdfstring{deleteTensor()}{deleteTensor()}}
{\footnotesize\ttfamily bool CANDY\+::\+IVFList\+Bucket\+::delete\+Tensor (\begin{DoxyParamCaption}\item[{torch\+::\+Tensor \&}]{t,  }\item[{bool}]{is\+Concurrent = {\ttfamily false} }\end{DoxyParamCaption})}



delete a tensor 

\begin{DoxyNote}{Note}
will check the equal condition by torch\+::equal 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em t} & the tensor \\
\hline
{\em is\+Concurrent} & whether this process is concurrently executed
\begin{DoxyItemize}
\item 
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool whether the tensor is really deleted 
\end{DoxyReturn}
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_aae1351841443329a273fcfd625ad3781}\label{classCANDY_1_1IVFListBucket_aae1351841443329a273fcfd625ad3781}} 
\index{CANDY::IVFListBucket@{CANDY::IVFListBucket}!deleteTensorWithEncode@{deleteTensorWithEncode}}
\index{deleteTensorWithEncode@{deleteTensorWithEncode}!CANDY::IVFListBucket@{CANDY::IVFListBucket}}
\doxysubsubsection{\texorpdfstring{deleteTensorWithEncode()}{deleteTensorWithEncode()}}
{\footnotesize\ttfamily bool CANDY\+::\+IVFList\+Bucket\+::delete\+Tensor\+With\+Encode (\begin{DoxyParamCaption}\item[{torch\+::\+Tensor \&}]{t,  }\item[{std\+::vector$<$ uint8\+\_\+t $>$ \&}]{encode,  }\item[{bool}]{is\+Concurrent = {\ttfamily false} }\end{DoxyParamCaption})}



delete a tensor with its encode 


\begin{DoxyParams}{Parameters}
{\em t} & the tensor \\
\hline
{\em encode} & the corresponding encode \\
\hline
{\em is\+Concurrent} & whether this process is concurrently executed \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool whether the tensor is really deleted 
\end{DoxyReturn}
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_a749a743d0b4f84fa61473a231233b134}\label{classCANDY_1_1IVFListBucket_a749a743d0b4f84fa61473a231233b134}} 
\index{CANDY::IVFListBucket@{CANDY::IVFListBucket}!getAllTensors@{getAllTensors}}
\index{getAllTensors@{getAllTensors}!CANDY::IVFListBucket@{CANDY::IVFListBucket}}
\doxysubsubsection{\texorpdfstring{getAllTensors()}{getAllTensors()}}
{\footnotesize\ttfamily torch\+::\+Tensor CANDY\+::\+IVFList\+Bucket\+::get\+All\+Tensors (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



get all of the tensors in list 

\begin{DoxyReturn}{Returns}
a 2-\/D tensor contain all, torch\+::zeros(\{1,1\}) if got nothing 
\end{DoxyReturn}
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_a1ae08eca578b9a7664805b9b1097d4ac}\label{classCANDY_1_1IVFListBucket_a1ae08eca578b9a7664805b9b1097d4ac}} 
\index{CANDY::IVFListBucket@{CANDY::IVFListBucket}!getAllTensorsWithEncode@{getAllTensorsWithEncode}}
\index{getAllTensorsWithEncode@{getAllTensorsWithEncode}!CANDY::IVFListBucket@{CANDY::IVFListBucket}}
\doxysubsubsection{\texorpdfstring{getAllTensorsWithEncode()}{getAllTensorsWithEncode()}}
{\footnotesize\ttfamily torch\+::\+Tensor CANDY\+::\+IVFList\+Bucket\+::get\+All\+Tensors\+With\+Encode (\begin{DoxyParamCaption}\item[{std\+::vector$<$ uint8\+\_\+t $>$ \&}]{\+\_\+encode }\end{DoxyParamCaption})}



get all of the tensors in list with a specific encode 


\begin{DoxyParams}{Parameters}
{\em \+\_\+encode} & the specified encode \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a 2-\/D tensor contain all, torch\+::zeros(\{1,1\}) if got nothing 
\end{DoxyReturn}
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_acd0e6440d296b984e23bba427e70a4ae}\label{classCANDY_1_1IVFListBucket_acd0e6440d296b984e23bba427e70a4ae}} 
\index{CANDY::IVFListBucket@{CANDY::IVFListBucket}!getMinimumTensorsUnderHamming@{getMinimumTensorsUnderHamming}}
\index{getMinimumTensorsUnderHamming@{getMinimumTensorsUnderHamming}!CANDY::IVFListBucket@{CANDY::IVFListBucket}}
\doxysubsubsection{\texorpdfstring{getMinimumTensorsUnderHamming()}{getMinimumTensorsUnderHamming()}}
{\footnotesize\ttfamily torch\+::\+Tensor CANDY\+::\+IVFList\+Bucket\+::get\+Minimum\+Tensors\+Under\+Hamming (\begin{DoxyParamCaption}\item[{std\+::vector$<$ uint8\+\_\+t $>$ \&}]{\+\_\+encode,  }\item[{int64\+\_\+t}]{min\+Number,  }\item[{int64\+\_\+t}]{\+\_\+vec\+Dim }\end{DoxyParamCaption})}



get a minimum number of tensors under sorted hamming distance 


\begin{DoxyParams}{Parameters}
{\em \+\_\+encode} & the specified encode \\
\hline
{\em min\+Number} & the minimum of desired tensors \\
\hline
{\em \+\_\+vec\+Dim} & the dimension of database vectors \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a 2-\/D tensor or result, torch\+::zeros(\{1,1\}) if got nothing 
\end{DoxyReturn}

\begin{DoxyEnumerate}
\item try exact match
\item scan
\item sort
\end{DoxyEnumerate}\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_a592dfac6a37fba05976bd5a60a1716fc}\label{classCANDY_1_1IVFListBucket_a592dfac6a37fba05976bd5a60a1716fc}} 
\index{CANDY::IVFListBucket@{CANDY::IVFListBucket}!insertTensorWithEncode@{insertTensorWithEncode}}
\index{insertTensorWithEncode@{insertTensorWithEncode}!CANDY::IVFListBucket@{CANDY::IVFListBucket}}
\doxysubsubsection{\texorpdfstring{insertTensorWithEncode()}{insertTensorWithEncode()}}
{\footnotesize\ttfamily void CANDY\+::\+IVFList\+Bucket\+::insert\+Tensor\+With\+Encode (\begin{DoxyParamCaption}\item[{torch\+::\+Tensor \&}]{t,  }\item[{std\+::vector$<$ uint8\+\_\+t $>$ \&}]{encode,  }\item[{bool}]{is\+Concurrent = {\ttfamily false} }\end{DoxyParamCaption})}



insert a tensor with its encode 


\begin{DoxyParams}{Parameters}
{\em t} & the tensor \\
\hline
{\em encode} & the corresponding encode \\
\hline
{\em is\+Concurrent} & whether this process is concurrently executed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classCANDY_1_1IVFListBucket_ab0dee1128b863c7894d0255ff163c19c}\label{classCANDY_1_1IVFListBucket_ab0dee1128b863c7894d0255ff163c19c}} 
\index{CANDY::IVFListBucket@{CANDY::IVFListBucket}!sizeWithEncode@{sizeWithEncode}}
\index{sizeWithEncode@{sizeWithEncode}!CANDY::IVFListBucket@{CANDY::IVFListBucket}}
\doxysubsubsection{\texorpdfstring{sizeWithEncode()}{sizeWithEncode()}}
{\footnotesize\ttfamily int64\+\_\+t CANDY\+::\+IVFList\+Bucket\+::size\+With\+Encode (\begin{DoxyParamCaption}\item[{std\+::vector$<$ uint8\+\_\+t $>$ \&}]{\+\_\+encode }\end{DoxyParamCaption})}



get teh size in list with a specific encode 


\begin{DoxyParams}{Parameters}
{\em \+\_\+encode} & the specified encode \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the size under \+\_\+encode 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\+CANDY/\+Online\+PQIndex/\mbox{\hyperlink{IVFTensorEncodingList_8h}{IVFTensor\+Encoding\+List.\+h}}\item 
src/\+CANDY/\+Online\+PQIndex/IVFTensor\+Encoding\+List.\+cpp\end{DoxyCompactItemize}
